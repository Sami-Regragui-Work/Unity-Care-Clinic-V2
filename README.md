# ğŸ¥ Unity Care Clinic V2 â€“ Console CRUD App

A PHP console-based clinic management tool that manages patients, doctors, and departments with a menu-driven interface, using classes, inheritance, and composition to reflect the designed class and ER diagrams.

## ğŸ“‘ Table of Contents

-   [Project Overview](#project-overview)
-   [Tech Stack](#tech-stack)
-   [Project Structure](#project-structure)
-   [Environment Variables](#environment-variables)
-   [Installation & Setup](#installation-setup)
-   [Domain Model](#domain-model)
-   [Diagrams](#diagrams)
-   [Features Breakdown](#features-breakdown)
-   [License](#license)
-   [Contributing](#contributing)

## <h2 id="project-overview">ğŸ¯ Project Overview</h2>

This mini-project is a **console-only** CRUD application for managing clinic data, focusing on OOP design (abstract parents, composition, and concrete models) instead of any web frontend.  
The structure is aligned with the class diagram: shared behavior lives in abstract parent classes, while specific logic resides in `Patient`, `Doctor`, and `Department` classes.

## <h2 id="tech-stack">ğŸ› ï¸ Tech Stack</h2>

-   PHP 8.x (CLI mode)
-   MySQL (persistence)
-   `vlucas/phpdotenv` for loading environment variables from `.env` via Composer

## <h2 id="project-structure">ğŸ“ Project Structure</h2>

```bash
Unity-Care-Clinic-V2
â”œâ”€â”€ README.md
â”œâ”€â”€ console.php                 # Main CLI entry point (php console.php)
â”œâ”€â”€ .env.example                # Example env file template
â”œâ”€â”€ composer.json               # Composer dependencies & autoload
â”œâ”€â”€ composer.lock               # Generated by Composer
â”œâ”€â”€ assets
â”‚   â”œâ”€â”€ media
â”‚   â”‚   â”œâ”€â”€ class-diagram.png
â”‚   â”‚   â”œâ”€â”€ class-diagram.wsd
â”‚   â”‚   â”œâ”€â”€ erd.dbml
â”‚   â”‚   â”œâ”€â”€ erd.png
â”‚   â”‚   â”œâ”€â”€ usecase-diagram.png
â”‚   â”‚   â””â”€â”€ usecase-diagram.wsd
â”‚   â”œâ”€â”€ php
â”‚   â”‚   â”œâ”€â”€ class
â”‚   â”‚   â”‚   â”œâ”€â”€ Department.php
â”‚   â”‚   â”‚   â”œâ”€â”€ Doctor.php
â”‚   â”‚   â”‚   â”œâ”€â”€ Patient.php
â”‚   â”‚   â”‚   â”œâ”€â”€ composition
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Validator.php
â”‚   â”‚   â”‚   â””â”€â”€ parent
â”‚   â”‚   â”‚       â”œâ”€â”€ BaseModal.php
â”‚   â”‚   â”‚       â””â”€â”€ abstract
â”‚   â”‚   â”‚           â”œâ”€â”€ Person.php
â”‚   â”‚   â”‚           â””â”€â”€ Table.php
â”‚   â”‚   â””â”€â”€ dbLink.php          # Uses env vars for DB connection
â”‚   â””â”€â”€ sql
â”‚       â”œâ”€â”€ ddl.sql             # Database schema
â”‚       â””â”€â”€ dml.sql             # Seed data
```

This layout keeps OOP classes and DB link code inside `assets/php`, while diagrams and SQL live under `assets/media` and `assets/sql` respectively.

## <h2 id="environment-variables">ğŸ” Environment Variables</h2>

Environment configuration is handled via `.env`, loaded by `vlucas/phpdotenv` in `console.php` (or a bootstrap file).
`.env` is ignored by Git, while `.env.example` documents all required variables for collaborators.

**Install Composer and phpdotenv (once per machine):**

If Composer is not installed globally:

```bash
cd ~
curl -sS https://getcomposer.org/installer -o /tmp/composer-setup.php
sudo php /tmp/composer-setup.php --install-dir=/usr/local/bin --filename=composer
```

Inside your project:

```bash
cd Unity-Care-Clinic-V2
composer require vlucas/phpdotenv
```

**.env.example** (template you commit):

```env
DB_HOST=127.0.0.1
DB_PORT=3306
DB_NAME=uccv2
DB_USER=root
DB_PASS=secret
APP_ENV=local
APP_DEBUG=true
```

**.env** (your local copy, not committed):

```env
DB_HOST=127.0.0.1
DB_PORT=3306
DB_NAME=uccv2
DB_USER=your_user
DB_PASS=your_password
APP_ENV=local
APP_DEBUG=true
```

**Loading `.env` in console.php:**

```php
<?php

require __DIR__ . '/vendor/autoload.php';

use Dotenv\Dotenv;

$dotenv = Dotenv::createImmutable(__DIR__);
$dotenv->load();

// Now you can use:
$host = $_ENV['DB_HOST'] ?? '127.0.0.1';
```

Then in `assets/php/dbLink.php`, read these env vars (`$_ENV['DB_NAME']`, etc.) to configure PDO/MySQLi.

## <h2 id="installation-setup">ğŸš€ Installation & Setup</h2>

1. **Clone the repository**

    ```bash
    git clone <repository-url>
    cd Unity-Care-Clinic-V2
    ```

2. **Install PHP dependencies**

    ```bash
    composer install
    ```

3. **Configure environment**

    - Copy `.env.example` to `.env`.
    - Update DB credentials and other values to match your local setup.

4. **Database setup**

    - Create a database (e.g. `uccv2`).
    - Import schema and seed data:
        ```bash
        mysql -u <username> -p uccv2 < assets/sql/ddl.sql
        mysql -u <username> -p uccv2 < assets/sql/dml.sql
        ```

5. **Run the console application**
    ```bash
    php console.php
    ```
    This will start the menu-driven CLI to manage patients, doctors, and departments.

## <h2 id="domain-model">ğŸ“¦ Domain Model</h2>

The domain layer closely follows the class diagram using abstract parents and composition to keep behavior **reusable** and cohesive.

-   `parent/abstract/Table.php`
    -   Base abstraction for table-like storage behavior.
-   `parent/abstract/Person.php`
    -   Common fields and logic shared by `Patient` and `Doctor`.
-   `parent/BaseModal.php`
    -   Shared modal/model utilities for data mapping and validation glue.
-   `composition/Validator.php`
    -   Composition helper injected/used by models to validate data.
-   `Patient.php`, `Doctor.php`, `Department.php`
    -   Concrete domain models implementing specific attributes and behavior.

`dbLink.php` acts as the infrastructure layer responsible for connecting to the database using env-based configuration.

## <h2 id="diagrams">ğŸ§© Diagrams</h2>

Diagram sources are stored under `assets/media` to document the design process and keep UML artifacts alongside the code.

-   **Class Diagram**
    ![class-diagram-image](assets/media/class-diagram.png)

    -   Image: `assets/media/class-diagram.png`
    -   Source: `assets/media/class-diagram.wsd`

-   **Entity-Relationship Diagram (ERD)**
    ![erd-image](assets/media/erd.png)

    -   Image: `assets/media/erd.png`
    -   Sources: `assets/media/erd.dbml`

-   **Use Case Diagram**
    ![usecase-diagram-image](assets/media/usecase-diagram.png)
    -   Image: `assets/media/usecase-diagram.png`
    -   Source: `assets/media/usecase-diagram.wsd`

These files can be opened in compatible tools (PlantUML, dbdiagram.io, etc.) to regenerate or modify the diagrams as the project evolves.

## <h2 id="features-breakdown">ğŸ¨ Features Breakdown</h2>

-   Console menu to manage Patients, Doctors, and Departments.
-   CRUD operations implemented via OOP classes reflecting the class diagram.
-   Validation via a dedicated `Validator` composition helper.
-   Database access configured through environment variables and centralized in `dbLink.php`.

## <h2 id="license">ğŸ“ License</h2>

This project is intended for educational and portfolio use; you may read and adapt the code for learning purposes.

## <h2 id="contributing">ğŸ¤ Contributing</h2>

Suggestions to improve class design, env handling, or console UX are welcome; open an issue or submit a clearly described pull request.
